# DevTools Overview

Angular DevTools is a browser extension that provides debugging and profiling capabilities for Angular applications. Angular DevTools supports Angular v12 and later when compiled with the [optimization configuration option](guide/workspace-config#optimization-configuration) disabled (`{optimization:false}`).

<iframe allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen frameborder="0" src="https://www.youtube.com/embed/bavWOHZM6zE"></iframe>

Angular DevTools можно найти в [Chrome Web Store](https://chrome.google.com/webstore/detail/angular-developer-tools/ienfalfjdbdpebioblfackkekamfmbnh) и в [Firefox Addons](https://addons.mozilla.org/en-GB/firefox/addon/angular-devtools/).

После установки Angular DevTools найдите расширение на вкладке Angular в DevTools вашего браузера.

<div class="lightbox">

<img alt="devtools" src="generated/images/guide/devtools/devtools.png">

</div>

Когда вы откроете расширение, вы увидите две дополнительные вкладки:

| Tabs | Details | | :------------------------ | :--------------------------------------------------------------------------------------------------------------------- | .

| [Компоненты](#components) | Позволяет исследовать компоненты и директивы в вашем приложении, просматривать или редактировать их состояние. |

| [Profiler](#profiler) | Позволяет профилировать приложение и понять, что является узким местом в производительности во время выполнения обнаружения изменений. |

<div class="lightbox">

<img alt="devtools tabs" src="generated/images/guide/devtools/devtools-tabs.png">

</div>

В правом верхнем углу Angular DevTools вы увидите, какая версия Angular запущена на странице, а также хэш последнего коммита для расширения.

## Сообщения об ошибках

Сообщайте о проблемах и запросах на [GitHub](https://github.com/angular/angular/issues).

Чтобы сообщить о проблеме с Profiler, экспортируйте запись Profiler, нажав на кнопку **Save Profile**, а затем прикрепите этот экспорт в виде файла к проблеме.

<div class="alert is-helpful">

Убедитесь, что запись Profiler не содержит никакой конфиденциальной информации.

</div>

<a id="components"></a>

## Отладка вашего приложения

Вкладка **Компоненты** позволяет исследовать структуру вашего приложения. Вы можете визуализировать и проверять экземпляры компонентов и директив, а также просматривать или изменять их состояние.

В следующих двух разделах мы рассмотрим, как эффективно использовать эту вкладку для отладки приложения.

### Исследовать структуру приложения

<div class="lightbox">

<img alt="component-explorer" src="generated/images/guide/devtools/component-explorer.png">

</div>

На предыдущем снимке экрана вы можете видеть дерево компонентов приложения.

Дерево компонентов отображает иерархические отношения _компонентов и директив_ в вашем приложении. Когда вы выбираете компонент или экземпляр директивы, Angular DevTools представляет дополнительную информацию об этом экземпляре.

### Свойства просмотра

Нажмите на отдельные компоненты или директивы в проводнике компонентов, чтобы выбрать их и просмотреть их свойства. Angular DevTools отображает их свойства и метаданные в правой части дерева компонентов.

Перемещайтесь по дереву компонентов с помощью мыши или следующих сочетаний клавиш:

| Сочетание клавиш | Детали | | :-------------------- | :--------------------------------- |.

| Стрелки вверх и вниз | Выберите предыдущий и следующий узлы |

| | Стрелки влево и вправо | Свернуть и развернуть узел |

Чтобы найти компонент или директиву по имени, используйте поле поиска над деревом компонентов. Чтобы перейти к следующему поисковому запросу, нажмите `Enter`.

Чтобы перейти к предыдущему поиску, нажмите `Shift + Enter`.

<div class="lightbox">

<img alt="search" src="generated/images/guide/devtools/search.png">

</div>

### Переход к узловому элементу

Чтобы перейти к узловому элементу определенного компонента или директивы, найдите его в проводнике компонентов и дважды щелкните по нему. DevTools браузера откроет вкладку Elements в Chrome или Inspector в Firefox и выберет связанный узел DOM.

### Перейдите к источнику

Для компонентов Angular DevTools также позволяет перейти к определению компонента на вкладке источника. После выбора определенного компонента нажмите на значок в правом верхнем углу представления свойств:

<div class="lightbox">

<img alt="navigate source" src="generated/images/guide/devtools/navigate-source.png">

</div>

### Обновить значение свойства

Как и в DevTools браузеров, представление свойств позволяет редактировать значение входного, выходного или другого свойства. Щелкните правой кнопкой мыши на значении свойства.

Если для данного типа значения доступна функция редактирования, появится текстовый ввод.

Введите новое значение и нажмите `Enter`.

<div class="lightbox">

<img alt="update property" src="generated/images/guide/devtools/update-property.png">

</div>

### Доступ к выбранному компоненту или директиве в консоли

В качестве ярлыка в консоли Angular DevTools предоставляет доступ к экземплярам недавно выбранных компонентов или директив. Введите `$ng0`, чтобы получить ссылку на экземпляр текущего выбранного компонента или директивы, и `$ng1` для ранее выбранного экземпляра.

<div class="lightbox">

<img alt="access console" src="generated/images/guide/devtools/access-console.png">

</div>

### Выберите директиву или компонент

Подобно DevTools браузеров, вы можете осмотреть страницу, чтобы выбрать определенный компонент или директиву. Нажмите на значок **_Inspect element_** в верхнем левом углу в Angular DevTools и наведите курсор на элемент DOM на странице.

Расширение распознает связанные директивы и/или компоненты и позволит вам выбрать соответствующий элемент в дереве компонентов.

<div class="lightbox">

<img alt="selecting dom node" src="generated/images/guide/devtools/inspect-element.png">

</div>

<a id="profiler"></a>

## Профиль вашего приложения

Вкладка **Profiler** позволяет вам предварительно просмотреть выполнение обнаружения изменений в Angular.

<div class="lightbox">

<img alt="profiler" src="generated/images/guide/devtools/profiler.png">

</div>

Профилировщик позволяет начать профилирование или импортировать существующий профиль. Чтобы начать профилирование приложения, наведите курсор на круг в левом верхнем углу вкладки **Профилировщик** и нажмите **Начать запись**.

Во время профилирования Angular DevTools фиксирует события выполнения, такие как обнаружение изменений и выполнение крючков жизненного цикла. Чтобы закончить запись, снова нажмите на круг, чтобы **Остановить запись**.

Вы также можете импортировать существующую запись. Подробнее об этой возможности читайте в разделе [Импорт записи](#).

### Понимание выполнения вашего приложения

На следующем снимке экрана показан стандартный вид профайлера после завершения записи.

<div class="lightbox">

<img alt="default profiler view" src="generated/images/guide/devtools/default-profiler-view.png">

</div>

В верхней части представления вы можете увидеть последовательность полос, каждая из которых символизирует циклы обнаружения изменений в вашем приложении. Чем выше столбик, тем дольше ваше приложение находилось в этом цикле.
Когда вы выбираете столбик, DevTools отображает гистограмму со всеми компонентами и директивами, которые он зафиксировал во время этого цикла.

<div class="lightbox">

<img alt="profiler selected bar" src="generated/images/guide/devtools/profiler-selected-bar.png">

</div>

Ранее на временной шкале обнаружения изменений вы можете узнать, сколько времени Angular провел в этом цикле. Angular DevTools пытается оценить падение кадров в этот момент, чтобы указать, когда выполнение вашего приложения может повлиять на пользовательский опыт.

Angular DevTools также указывает, что вызвало обнаружение изменений\(то есть, источник\).

### Понимание выполнения компонентов

Когда вы нажимаете на панель, вы получаете подробное представление о том, сколько времени ваше приложение провело в конкретной директиве или компоненте:

<div class="lightbox">

<img alt="directive details" src="generated/images/guide/devtools/directive-details.png">

</div>

На рисунке показано общее время, затраченное директивой NgforOf, и какой метод был вызван в ней. Здесь также показана родительская иерархия выбранной директивы.

### Иерархические представления

<div class="lightbox">

<img alt="flame graph view" src="generated/images/guide/devtools/flame-graph-view.png">

</div>

Вы также можете предварительно просмотреть выполнение обнаружения изменений в виде пламенного графа. Каждая плитка в графе представляет элемент на экране в определенной позиции в дереве рендеринга.

Например, если во время одного цикла обнаружения изменений в определенной позиции дерева компонентов у вас был `ComponentA`, этот компонент был удален, а на его место Angular отобразил `ComponentB`, вы увидите оба компонента на одной плитке.

Каждый тайл окрашивается в зависимости от того, сколько времени Angular провел там. DevTools определяет интенсивность цвета по времени, проведенному относительно плитки, на которой мы провели больше всего времени при обнаружении изменений.

Когда вы нажимаете на определенную плитку, вы увидите подробную информацию о ней на панели справа. Двойной щелчок по плитке увеличивает ее, чтобы можно было просмотреть вложенные дочерние элементы.

### Отладка OnPush

Чтобы просмотреть компоненты, в которых Angular выполнил обнаружение изменений, установите флажок **Обнаружение изменений** вверху, над графиком пламени.

В этом представлении все плитки, в которых Angular выполнил обнаружение изменений, окрашены в зеленый цвет, а остальные - в серый:

<div class="lightbox">

<img alt="debugging onpush" src="generated/images/guide/devtools/debugging-onpush.png">

</div>

### Импорт записи

Нажмите кнопку **Сохранить профиль** в левом верхнем углу записанного сеанса профилирования, чтобы экспортировать его в файл JSON и сохранить на диске. Затем импортируйте файл в начальном представлении профилировщика, нажав на вход **Выбрать файл**:

<div class="lightbox">

<img alt="save profile" src="generated/images/guide/devtools/save-profile.png">

</div>

<!-- links -->

<!-- external links -->

<!-- end links -->

:date: 28.02.2022
